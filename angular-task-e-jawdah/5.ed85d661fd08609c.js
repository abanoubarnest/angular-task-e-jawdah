"use strict";(self.webpackChunkangular_firebase=self.webpackChunkangular_firebase||[]).push([[5],{6005:(G,f,r)=>{r.r(f),r.d(f,{DashboardModule:()=>K});var c=r(9808),u=r(1402),A=r(4128),t=r(5e3),S=r(7407);let L=(()=>{class o{constructor(e){this.firestore=e}getTotalCollections(e){return this.firestore.collection(e).get()}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(S.ST))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var x=r(3251),d=r(9224),Z=r(7423),m=r(2181),p=r(3874);function U(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"mat-card",2),t.TgZ(2,"mat-card-header",3),t.TgZ(3,"mat-card-title",4),t.TgZ(4,"div",5),t._uU(5),t.qZA(),t.TgZ(6,"div",6),t.TgZ(7,"button",7),t.TgZ(8,"mat-icon",8),t._uU(9,"more_vert"),t.qZA(),t.qZA(),t.TgZ(10,"mat-menu",null,9),t.TgZ(12,"button",10),t.NdJ("click",function(i){return t.CHM(e),t.oxw().handleAction(i)}),t._uU(13,"Add"),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(i){return t.CHM(e),t.oxw().handleAction(i)}),t._uU(15,"Edit"),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(i){return t.CHM(e),t.oxw().handleAction(i)}),t._uU(17,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"mat-card-subtitle",11),t.TgZ(19,"div",12),t.TgZ(20,"span",13),t._uU(21,"Record Status :"),t.qZA(),t._uU(22),t.qZA(),t.TgZ(23,"div",12),t.TgZ(24,"span",13),t._uU(25,"Record Type:"),t.qZA(),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"mat-card-content"),t.TgZ(28,"div",14),t.TgZ(29,"div",15),t.TgZ(30,"label",16),t._uU(31," Business entity type "),t.qZA(),t.TgZ(32,"span"),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"div",15),t.TgZ(35,"label",17),t._uU(36," Expiry date "),t.qZA(),t.TgZ(37,"span"),t._uU(38),t.ALo(39,"date"),t.qZA(),t.qZA(),t.TgZ(40,"div",15),t.TgZ(41,"label",18),t._uU(42," Identify number "),t.qZA(),t.TgZ(43,"span"),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"div",15),t.TgZ(46,"label",18),t._uU(47," Commercial Registration No "),t.qZA(),t.TgZ(48,"span"),t._uU(49),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(50,"mat-card-actions"),t.TgZ(51,"button",19),t.NdJ("click",function(i){return t.CHM(e),t.oxw().Show(i)}),t._uU(52," Show Records "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,a=t.MAs(11);t.xp6(5),t.Oqu(null==e?null:e.title),t.xp6(2),t.Q6J("matMenuTriggerFor",a),t.xp6(15),t.hij("",null==e?null:e.recordStatus," "),t.xp6(4),t.hij("",null==e?null:e.recordType," "),t.xp6(7),t.Oqu(null==e?null:e.businessType),t.xp6(5),t.Oqu(t.xi3(39,8,null==e?null:e.expiryDate,"dd/MM/yyyy")),t.xp6(6),t.Oqu(null==e?null:e.identifyNumber),t.xp6(5),t.Oqu(null==e?null:e.registrationNo)}}let _=(()=>{class o{constructor(){this.actionMenu=new t.vpe,this.showRecords=new t.vpe,this.records=[]}ngOnInit(){}handleAction(e){this.actionMenu.emit(e)}Show(e){this.showRecords.emit(e)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-card-records"]],inputs:{records:"records"},outputs:{actionMenu:"actionMenu",showRecords:"showRecords"},decls:1,vars:1,consts:[["class","card-wrapper mt-3",4,"ngFor","ngForOf"],[1,"card-wrapper","mt-3"],[1,"example-card","mb-5"],[1,"!w-full"],[1,"!w-full","!flex"],[1,"!w-1/2"],[1,"!w-full","flex","justify-end"],["mat-button","",3,"matMenuTriggerFor"],[1,"nav-menu"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"!flex","justify-start","items-center","content-center"],[1,"!flex","justify-start","items-center","content-center","h-8","bg-green-100","text-green-800","text-xs","font-semibold","mr-2","px-2.5","py-0.5","rounded","dark:bg-green-200","dark:text-green-900"],[1,"text-gray-500","text-xs","font-semibold","mr-2","px-.5","py-0.5"],[1,"flex","flex-wrap","-mx-3","mb-2"],[1,"w-full","md:w-1/4","px-3","mb-6","md:mb-0"],["for","grid-city",1,"block","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["for","grid-state",1,"block","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["for","grid-zip",1,"block","tracking-wide","text-gray-700","text-xs","font-bold","mb-2"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,a){1&e&&t.YNc(0,U,53,11,"div",0),2&e&&t.Q6J("ngForOf",a.records)},directives:[c.sg,d.a8,d.dk,d.n5,Z.lW,m.p6,p.Hw,m.VK,m.OP,d.$j,d.dn,d.hq],pipes:[c.uU],styles:["[_nghost-%COMP%]     .card-wrapper .mat-card-header-text{margin:0!important;width:100%!important}"]}),o})(),q=(()=>{class o{constructor(e){this.el=e,this.from=0,this.duration=4,this.currentElement=this.el.nativeElement,this.refreshInterval=30,this.step=0}ngOnInit(){}ngOnChanges(){this.CountTo&&this.start()}calculateDuration(){this.duration=1e3*this.duration,this.steps=Math.ceil(this.duration/this.refreshInterval),this.increment=(this.CountTo-this.from)/this.steps,this.num=this.from}tick(){setTimeout(()=>{this.num+=this.increment,this.step++,this.step>=this.steps?(this.num=this.CountTo,this.currentElement.textContent=this.CountTo.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):(this.currentElement.textContent=Math.round(this.num).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),this.tick())},this.refreshInterval)}start(){this.calculateDuration(),this.tick()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","CountTo",""]],inputs:{CountTo:"CountTo",from:"from",duration:"duration"},features:[t.TTD]}),o})();function I(o,n){if(1&o&&(t.TgZ(0,"h2",12),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij("",null==e?null:e.title," ")}}function w(o,n){if(1&o&&(t.ynx(0),t.TgZ(1,"span",13),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("CountTo",e.data)("from",0)("duration",1),t.xp6(1),t.hij(" ",e.data," ")}}function M(o,n){if(1&o&&(t.TgZ(0,"span",14),t.TgZ(1,"mat-icon",15),t._uU(2),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("color",null==e?null:e.iconColor),t.xp6(1),t.Oqu(e.icon)}}function O(o,n){if(1&o&&(t.TgZ(0,"div",6),t.TgZ(1,"div",7),t.YNc(2,I,2,1,"h2",8),t.TgZ(3,"div",9),t.YNc(4,w,3,4,"ng-container",10),t.YNc(5,M,3,2,"span",11),t.qZA(),t.qZA(),t.qZA()),2&o){const e=n.$implicit;t.xp6(2),t.Q6J("ngIf",null==e?null:e.title),t.xp6(2),t.Q6J("ngIf",null==e?null:e.data),t.xp6(1),t.Q6J("ngIf",null==e?null:e.icon)}}function J(o,n){if(1&o&&(t.TgZ(0,"section",1),t.TgZ(1,"div",2),t.TgZ(2,"h3",3),t._uU(3),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,O,6,3,"div",5),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.cardList)}}let N=(()=>{class o{constructor(){this.cardList=[],this.title=""}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-card"]],inputs:{cardList:"cardList",title:"title"},decls:2,vars:1,consts:[["class","",4,"ngIf"],[1,""],[1,"max-w-7xl","mx-auto"],[1,"mt-2"],[1,"flex","flex-wrap","-m-4"],["class","xl:w-1/3 md:w-1/2 py-4 px-3",4,"ngFor","ngForOf"],[1,"xl:w-1/3","md:w-1/2","py-4","px-3"],[1,"border","border-gray-300","p-6","rounded-lg"],["class","text-lg  font-medium title-font mb-2 text-color-primary",4,"ngIf"],[1,"text-center","mt-2","leading-none","flex","justify-between","w-full"],[4,"ngIf"],["class"," inline-flex items-center leading-none text-lg",4,"ngIf"],[1,"text-lg","font-medium","title-font","mb-2","text-color-primary"],[1,"mr-3","inline-flex","items-center","leading-none","text-2xl","py-1","text-color-primary",3,"CountTo","from","duration"],[1,"inline-flex","items-center","leading-none","text-lg"],[1,"!text-3xl",3,"color"]],template:function(e,a){1&e&&(t.TgZ(0,"div"),t.YNc(1,J,6,2,"section",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",a.cardList.length))},directives:[c.O5,c.sg,q,p.Hw],styles:[""]}),o})();function D(o,n){if(1&o&&(t.ynx(0),t._UZ(1,"app-card",6),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("cardList",e.cards)("title",e.titleCards)}}let B=(()=>{class o{constructor(e){this.dashboardService=e,this.cards=[],this.titleCards="Licenses and permits statistics",this.recordList=[{businessType:"company",expiryDate:new Date("1/1/2022"),identifyNumber:"123456",recordStatus:"new",recordType:"optional",registrationNo:"142362",title:"The Coldest Sunset"},{businessType:"person",expiryDate:new Date("2/11/2022"),identifyNumber:"123456",recordStatus:"new",recordType:"optional",registrationNo:"142362",title:"Jonathan Reinink"},{businessType:"company",expiryDate:new Date("2/12/2022"),identifyNumber:"123456",recordStatus:"new",recordType:"optional",registrationNo:"142362",title:"The Coldest Sunset"}],this.initialCards()}ngOnInit(){this.getCardNumbers()}initialCards(){this.cards=[{data:0,icon:"loyalty",title:"Categories",iconColor:"accent",id:"Categories"},{data:0,icon:"layers",title:"Books",iconColor:"accent",id:"Books"},{data:0,icon:"supervised_user_circle",title:"Authors",iconColor:"accent",id:"Authors"}]}getCardNumbers(){let e=this.dashboardService.getTotalCollections("categories"),a=this.dashboardService.getTotalCollections("books"),i=this.dashboardService.getTotalCollections("authors");(0,A.D)([e,a,i]).subscribe(s=>{s.length&&this.cards.forEach((l,g)=>{l.data=s[g].size})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(L))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:9,vars:3,consts:[[1,"container-fluid"],[3,"label"],[3,"records"],["label","Sub records"],["label","Number of records"],[4,"ngIf"],[3,"cardList","title"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-tab-group"),t.TgZ(2,"mat-tab",1),t._UZ(3,"app-card-records",2),t.qZA(),t.TgZ(4,"mat-tab",3),t._uU(5," Content 2 "),t.qZA(),t.TgZ(6,"mat-tab",4),t._uU(7," Content 3 "),t.qZA(),t.qZA(),t.YNc(8,D,2,2,"ng-container",5),t.qZA()),2&e&&(t.xp6(2),t.s9C("label","Total numbers "+a.recordList.length),t.xp6(1),t.Q6J("records",a.recordList),t.xp6(5),t.Q6J("ngIf",a.cards.length))},directives:[x.SP,x.uX,_,c.O5,N],styles:[""]}),o})();const F=[{path:"/dashboard",title:"Dashboard",icon:"dashboard",class:"",id:"dashboard"},{path:"/categories",title:"Categories",icon:"category",class:"",id:"Category"},{path:"/books",title:"Books",icon:"book",class:"",id:"book"}];var T=r(1219),v=r(7579);let k=(()=>{class o{constructor(){this.valueSetSubject=new v.x}setItem(e,a){let i=new Object;i.key=e,i.value=a,localStorage.setItem(e,a),this.valueSetSubject.next(i)}localStorageSubscriber(){return this.valueSetSubject.asObservable()}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Q=r(2466),R=r(508),h=r(2638),b=r(4449),C=r(9814),y=r(3075),j=r(226),Y=r(4594);let P=(()=>{class o{constructor(e){this.auth=e,this.toggleSideBar=new t.vpe(!1),this.compLifeCycle=new v.x,this.isSideBarClosed=!1,this.user=null,this.loadLoggedInUserProfile()}ngOnInit(){}onToggleSideBar(){this.isSideBarClosed=!this.isSideBarClosed,this.toggleSideBar.emit(this.isSideBarClosed)}loadLoggedInUserProfile(){this.auth.getCurrentUser()&&(this.user=this.auth.getCurrentUser())}logout(){this.auth.logout()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.$))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-top-navbar"]],outputs:{toggleSideBar:"toggleSideBar"},decls:3,vars:0,consts:[["color","primary"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-toolbar",0),t.TgZ(1,"span"),t._uU(2,"Task Abanoub"),t.qZA(),t.qZA())},directives:[Y.Ye],styles:[""]}),o})();function E(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-radio-button",18),t.NdJ("change",function(i){return t.CHM(e),t.oxw().changeLang(i)}),t._uU(1),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.label)}}const $=function(o){return[o]};function z(o,n){if(1&o&&(t.TgZ(0,"a",19),t.TgZ(1,"mat-icon",20),t._uU(2),t.qZA(),t._uU(3),t.qZA()),2&o){const e=n.$implicit;t.Q6J("routerLink",t.VKq(3,$,e.path)),t.xp6(2),t.Oqu(e.icon),t.xp6(1),t.hij(" ",e.title," ")}}const H=[{path:"",component:(()=>{class o{constructor(e,a,i,s,l,g){this.auth=e,this.renderer=a,this.cd=i,this.localStorageUtilsService=s,this.translate=l,this.dateAdapter=g,this.menuList=F,this.user=null,this.nav_position="start",this.systemLanguage="en",this.languages=[{label:"English",name:"en",dir:"ltr"},{label:"Arabic",name:"ar",dir:"rtl"}],this.loadLoggedInUserProfile(),this.initialSettings(),this.localStorageUtilsService.localStorageSubscriber().subscribe(tt=>{localStorage.getItem("lang")&&this.initialSettings()})}ngOnInit(){}loadLoggedInUserProfile(){this.auth.getCurrentUser()&&(this.user=this.auth.getCurrentUser())}logout(){this.auth.logout()}changeLang(e){localStorage.setItem("lang",e.value?e.value:this.systemLanguage),"ar"===localStorage.getItem("lang")?(this.localStorageUtilsService.setItem("dir","rtl"),this.localStorageUtilsService.setItem("lang","ar"),this.dateAdapter.setLocale("ar")):(this.localStorageUtilsService.setItem("dir","ltr"),this.localStorageUtilsService.setItem("lang","en"),this.dateAdapter.setLocale("an")),this.setLang()}initialSettings(){null===localStorage.getItem("lang")?(this.localStorageUtilsService.setItem("dir","ltr"),this.localStorageUtilsService.setItem("lang","en"),this.translate.setDefaultLang("en")):this.setLang()}setLang(){this.systemLanguage="ar"===localStorage.getItem("lang")?"ar":"en";const e=localStorage.getItem("dir"),a=localStorage.getItem("lang");this.nav_position="start","ar"==a&&(this.nav_position="end"),this.renderer.setAttribute(document.querySelector("body"),"dir",e),this.renderer.setAttribute(document.querySelector("html"),"lang",a),this.translate.use(a)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.$),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(k),t.Y36(Q.sK),t.Y36(R._A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-layout"]],decls:24,vars:10,consts:[[1,"dashboard-container","!bg-transparent"],["mode","side","opened","","fixedInViewport","fixed",1,"shadow-xl","!border-0",3,"position"],["sidenav",""],["role","list",1,"!flex","!flex-col"],[1,"cursor-pointer","bg-center","bg-no-repeat","!bg-contain","mb-8","h-80",3,"routerLink"],[1,"!flex","justify-start","items-center","!rounded-none","!mb-2","text-gray-600","px-7"],["name","systemLanguage",3,"ngModel","ngModelChange"],["class","pull-left","color","primary","class","mx-1px",3,"value","change",4,"ngFor","ngForOf"],["mat-button","","role","listitem",1,"!flex","justify-start","items-center","!rounded-none","!mb-2","text-gray-600","px-7"],[1,"rounded-full","!h-7","!w-7","mx-1","object-cover",3,"src"],[1,"text-gray-600"],[3,"click"],[1,"!mx-1"],["routerLinkActive","active","class","!flex justify-start items-center !rounded-none !mb-2 text-gray-600","mat-button","","role","listitem",3,"routerLink",4,"ngFor","ngForOf"],[3,"dir"],[1,"flex","flex-col"],[3,"toggleSideBar"],[1,"container","flex-grow","p-4","mt-4"],["color","primary",1,"mx-1px",3,"value","change"],["routerLinkActive","active","mat-button","","role","listitem",1,"!flex","justify-start","items-center","!rounded-none","!mb-2","text-gray-600",3,"routerLink"],["mat-list-icon","",1,"mx-3"]],template:function(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"mat-sidenav-container",0),t.TgZ(1,"mat-sidenav",1,2),t.TgZ(3,"mat-list",3),t._UZ(4,"a",4),t.TgZ(5,"a"),t.TgZ(6,"div",5),t.TgZ(7,"mat-radio-group",6),t.NdJ("ngModelChange",function(l){return a.systemLanguage=l}),t.YNc(8,E,2,2,"mat-radio-button",7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"a"),t.TgZ(10,"div",8),t._UZ(11,"img",9),t.TgZ(12,"span",10),t._uU(13),t.qZA(),t.TgZ(14,"button",11),t.NdJ("click",function(){return a.logout()}),t.TgZ(15,"mat-icon",12),t._uU(16,"logout"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.ynx(17),t.YNc(18,z,4,5,"a",13),t.BQk(),t.qZA(),t.qZA(),t.TgZ(19,"mat-sidenav-content",14),t.TgZ(20,"main",15),t.TgZ(21,"app-top-navbar",16),t.NdJ("toggleSideBar",function(){return t.CHM(i),t.MAs(2).toggle()}),t.qZA(),t.TgZ(22,"div",17),t._UZ(23,"router-outlet"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&e&&(t.xp6(1),t.Q6J("position",a.nav_position),t.xp6(3),t.Udp("background-image","url(assets/img/logo4.png)"),t.Q6J("routerLink","/"),t.xp6(3),t.Q6J("ngModel",a.systemLanguage),t.xp6(1),t.Q6J("ngForOf",a.languages),t.xp6(3),t.Q6J("src","assets/img/avatar.png",t.LSH),t.xp6(2),t.Oqu(null==a.user?null:a.user.email),t.xp6(5),t.Q6J("ngForOf",a.menuList),t.xp6(1),t.Q6J("dir","end"==a.nav_position?"rtl":"ltr"))},directives:[h.TM,h.JX,b.i$,u.yS,C.VQ,y.JJ,y.On,c.sg,p.Hw,h.Rh,j.Lv,P,u.lC,C.U0,Z.zs,u.Od,b.Nh],styles:["mat-list[_ngcontent-%COMP%]{width:200px}mat-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:50px}mat-list[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background:#673ab7;color:#fff}"]}),o})(),children:[{path:"dashboard",component:B},{path:"books",loadChildren:()=>Promise.all([r.e(592),r.e(979)]).then(r.bind(r,2979)).then(o=>o.BooksModule)},{path:"categories",loadChildren:()=>Promise.all([r.e(592),r.e(447)]).then(r.bind(r,5447)).then(o=>o.CategoriesModule)},{path:"",redirectTo:"dashboard"}]},{path:"**",redirectTo:""}];let X=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(H)],u.Bz]}),o})();var V=r(3558);let K=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.ez,X,V.m.forRoot()]]}),o})()}}]);